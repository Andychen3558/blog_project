<!DOCTYPE html>
<html lang="en" ng-app='myApp'>
<head>
	<meta charset="UTF-8">
	<title>My Blog</title>
	<!-- import angularjs, angular-route, angular-cookies, controller -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.2/angular.min.js" type="text/javascript"></script>
	<script src="/javascripts/controller.js" type="text/javascript"></script>
	<link href="/stylesheets/style.css" rel='stylesheet' type='text/css'>
	
</head>
<body ng-controller="commentController">
	<div id="Header">
		<h1>Welcome to my Blog!</h1>
		<p style="font-size: 20px; color: blue;" ng-if="isLogin">Hello <%= account %>!</p>
		<a href="/signUp" ng-if="!isLogin"><button>Sign up</button></a>
		<a href="/signIn" ng-if="!isLogin"><button>Sign in</button></a>
		<a href="/articles"><button>Home</button></a>
		<button ng-if="isLogin" ng-click="logOut()">Log out</button>
	</div>

	<div>
		<!-- leave some message -->
		<div style="text-align: center; position: relative;">
			<form name="commentForm">
				<textarea name="comment" placeholder="Leave your comment" ng-model="form.content" ng-required="true" style="width: 700px; height: 100px;"></textarea>

				<button type="submit" ng-if="!isCommentEdit && commentForm.comment.$valid" ng-click="postComment()" style="position: absolute;bottom: 0">submit</button>
				<button type="submit" ng-if="isCommentEdit && commentForm.comment.$valid" ng-click="editComment(comment_id)" style="position: absolute;bottom: 0">submit</button>
			</form>
		</div>
	</div>
	<script type="text/javascript">
		var id = "<%= article_id %>";
		var uid = "<%= user_id %>";
		var cid = "<%= comment_id %>"
		var commentEdit = <%= isCommentEdit %>;
	</script>
</div>
</body>
</html>